!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.KodiWS=t():e.KodiWS=t()}(this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return new Promise(function(r,n){var i=new a.default(e,t);i.on("error",n),i.on("connect",function(){i.removeListener("error",n),r(i)})})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=r(1),a=n(o)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=r(2),c=r(3),l=n(c),f=r(21),d=n(f),h=r(26),p=n(h),v=window.WebSocket,m=0,y=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?"127.0.0.1":arguments[0],r=arguments.length<=1||void 0===arguments[1]?9090:arguments[1],n=arguments.length<=2||void 0===arguments[2]?500:arguments[2];i(this,t);var a=o(this,Object.getPrototypeOf(t).call(this));return a.socket=new v("ws://"+e+":"+r+"/jsonrpc"),a.closed=!0,a.timeout=n,a.init(),a}return a(t,e),s(t,[{key:"init",value:function(){var e=this;this.socket.onopen=function(){e.loadSchema().then(function(t){var r;e.socket.onmessage=function(e){console.log(e)},e.schema=new l.default.Schema(t,(r=e.socket,e.socket.send).bind(r)),e.socket.onmessage=function(t){var r=t.data;try{e.schema.handleResponse(r)}catch(t){t.message="Failed to handle response: "+t.message,e.emit("error",t)}},e.addShortcuts(),e.closed=!1,e.emit("connect")}).catch(function(t){t.message="Schema error: "+t.message,e.emit("error",t)})},this.socket.onclose=function(){e.close=!0,e.emit("close")},this.socket.onerror=function(t){e.socketTimedOut||(console.log(t),e.emit("error"))},setTimeout(function(){e.socket.readyState===m&&(e.emit("error",new Error("Timed out")),e.socketTimedOut=!0)},this.timeout)}},{key:"loadSchema",value:function(){var e,t=this,r=l.default.run("JSONRPC.Introspect",[],(e=this.socket,this.socket.send).bind(e));return this.socket.onmessage=function(e){var t=e.data;return r.handle(t)},r.then(function(e){return t.socket.onmessage=null,e})}},{key:"addShortcuts",value:function(){var e=this,t=this.schema.schema,r=t.methods,n=t.notifications;Object.keys(r).forEach(function(t){(0,d.default)(e,t)||(0,p.default)(e,t,r[t])}),Object.keys(n).forEach(function(t){(0,d.default)(e,t)||(0,p.default)(e,t,n[t])})}},{key:"batch",value:function e(){var t=this.schema.batch(),e={send:t.send.bind(t)},r=t.schema.methods;return Object.keys(r).forEach(function(t){(0,d.default)(e,t)||(0,p.default)(e,t,r[t])}),e}},{key:"run",value:function(e){if(!this.schema)throw new Error("Connection not initialized!");var t=Array.prototype.slice.call(arguments,1),r=this.schema.schema.methods;return r[e].apply(r,t)}},{key:"notification",value:function(e){var t=this;return new Promise(function(r,n){return t.schema?void t.schema.schema.notifications[e](r):n("Connection not initialized!")})}}]),t}(u.EventEmitter);t.default=y},function(e,t){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"==typeof e}function i(e){return"number"==typeof e}function o(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!i(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,r,i,s,u,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var l=new Error('Uncaught, unspecified "error" event. ('+t+")");throw l.context=t,l}if(r=this._events[e],a(r))return!1;if(n(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),r.apply(this,s)}else if(o(r))for(s=Array.prototype.slice.call(arguments,1),c=r.slice(),i=c.length,u=0;u<i;u++)c[u].apply(this,s);return!0},r.prototype.addListener=function(e,t){var i;if(!n(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(i=a(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,i&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function r(){this.removeListener(e,r),i||(i=!0,t.apply(this,arguments))}if(!n(t))throw TypeError("listener must be a function");var i=!1;return r.listener=t,this.on(e,r),this},r.prototype.removeListener=function(e,t){var r,i,a,s;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(r=this._events[e],a=r.length,i=-1,r===t||n(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(r)){for(s=a;s-- >0;)if(r[s]===t||r[s].listener&&r[s].listener===t){i=s;break}if(i<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[e],n(r))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(n(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,r){var n=-1,i=r(4);e.exports={Schema:i,run:function(e,t,r){var o=n--;r(i.methodToJSON(e,t,o));var a,s,u=new Promise(function(e,t){a=e,s=t});return u.handle=function(e){var t=JSON.parse(e);if(t.id===o)if(t.error){var r=new Error("Server responded with error: "+t.error.message);r.resonse=t.error,s(r)}else a(t.result)},u}}},function(e,t,r){function n(e,t,r){var n=1;this.id=function(){return r?r.id():n++},this.ids=r?r.ids:new o,this.cbs=[],this.queue=!!r&&[],this.handler=t,this.rawSchema=e,this.validator=i(),this.validator.addRef(e),this.notifications=new o,this.schema=this.shortcutGenericSchema(e)}var i=r(5),o=r(2).EventEmitter;n.prototype.batch=function(){return new n(this.rawSchema,this.handler,this)},n.prototype.send=function(){if(!this.queue)throw new Error(".send() can only be called in batch mode!");this.handler(JSON.stringify(this.queue)),this.queue=[]},n.prototype.shortcutSchema=function(e,t){if(!e.type)return this.shortcutGenericSchema(e);switch(e.type){case"method":return this.createMethod(t,e);case"notification":return this.notifications.on.bind(this.notifications,t);default:return this.shortcutGenericSchema(e)}},n.prototype.shortcutGenericSchema=function(e){var t=this,r=function(r){return t.validator.validate(r,e).valid};return Object.keys(e).forEach(function(n){var i=e[n];"object"!=typeof i||null===i||Array.isArray(i)||(r[n]=t.shortcutSchema(i,n))}),r},n.prototype.handleResponse=function(e){try{var t=JSON.parse(e),r=Array.isArray(t)?t:[t];r.forEach(function(e){e.id?(this.ids.emit(e.id,e),this.ids.removeAllListeners(e.id)):this.notifications.emit(e.method,e.params)},this)}catch(e){if(!this.onerror)throw e;this.onerror(e)}},n.prototype.createMethod=function(e){var t=this;return function(r){return arguments.length>1?r=Array.prototype.slice.call(arguments):"undefined"==typeof r?r={}:"object"!=typeof r&&(r=[r]),new Promise(function(i,o){var a=t.id();t.ids.on(a,function(e){if(e.error){var t=new Error("Server responded with error: "+e.error.message);t.response=e.error,o(t)}else i(e.result)}),t.queue?t.queue.push(n.methodToObject(e,r,a)):t.handler(n.methodToJSON(e,r,a))})}},n.methodToObject=function(e,t,r){return{id:r,jsonrpc:"2.0",method:e,params:t}},n.methodToJSON=function(e,t,r){return JSON.stringify(n.methodToObject(e,t,r))},e.exports=n},function(e,t,r){function n(){return Object.create(s,{_refs:{enumerable:!1,writable:!1,value:a()}})}var i=r(6),o=r(17),a=r(19),s={addRef:function(e,t){if("object"==typeof e&&(t=e,e=null),e=e||t.id,!e)throw new Error("Cannot add a json schema reference without a uri/id.");return this._refs.add(e,t),this},validate:function(e,t,r){if(void 0===e)throw new Error("Instance undefined in call to validate.");if(!t)throw new Error("No schema specified in call to validate.");if("string"==typeof t){var n=t;if(t=this._refs.get(n),!t)throw new Error("Unable to locate schema ("+n+"). Did you call addRef with this schema?")}var a=o(t,{instance:e,refs:this._refs,breakOnError:r&&r.breakOnError,cleanWithDefaults:r&&r.cleanWithDefaults});return i.base(a,e,t),a.result.valid&&(a.result.cleanInstance=a.cleanSubject),a.result}};e.exports=n,e.exports.validate=function(e,t,r){if(void 0===e)throw new Error("Instance undefined in call to validate.");if(!t)throw new Error("No schema specified in call to validate.");var n=o(t,{instance:e,breakOnError:r&&r.breakOnError,cleanWithDefaults:r&&r.cleanWithDefaults});return i.base(n,e,t),n.result.valid&&(n.result.cleanInstance=n.cleanSubject),n.result},e.exports.use=function(e){if("function"!=typeof e)throw new Error("skeemas.use called with non-function. Plugins are in the form function(skeemas){}.");return e(s),this}},function(e,t,r){t.types={any:function(){return!0},array:r(7),boolean:r(10),integer:r(11),null:r(12),number:r(11),object:r(13),string:r(14)},t.deepEqual=r(9),t.base=r(8)},function(e,t,r){function n(e,t,r,n){var s=!0;return Array.isArray(r.items)?(s=o(e,t,r,n),"additionalItems"in r&&(s=a(e,t,r,n)&&s)):r.items&&(s=i(e,t,r,n)),s}function i(e,t,r,n){var i=r.items;if("object"!=typeof i)throw new Error('Invalid schema: invalid "items"');for(var o=e.path.length,a=0,s=t.length;a<s;a++){if(e.path[o]=a,!l(e,t[a],i))return e.addError('Failed "items" criteria',t,i),e.path.length=o,!1;n.push(e.cleanSubject)}return e.path.length=o,!0}function o(e,t,r,n){for(var i=r.items,o=e.path.length,a=0,s=i.length;a<s;a++){if(e.path[o]=a,!l(e,t[a],i[a]))return e.addError('Failed "items" criteria',t,i),e.path.length=o,!1;n.push(e.cleanSubject)}return e.path.length=o,!0}function a(e,t,r,n){var i=r.items.length,o=t.length,a=r.additionalItems;if(a===!1)return o<=i||(e.addError('Failed "additionalItems" criteria: no additional items are allowed',t,r),!1);if("object"!=typeof a)throw new Error('Invalid schema: invalid "additionalItems"');for(var s=e.path.length;i<o;i++){if(e.path[s]=i,!l(e,t[i],a))return e.addError('Failed "additionalItems" criteria',t,r),e.path.length=s,!1;n.push(e.cleanSubject)}return e.path.length=s,!0}function s(e,t,r){return!(t.length<r.minItems)||(e.addError('Failed "minItems" criteria',t,r),!1)}function u(e,t,r){return!(t.length>r.maxItems)||(e.addError('Failed "maxItems" criteria',t,r),!1)}function c(e,t,r){for(var n,i=t.length;i--;)for(n=i;n--;)if(f(t[i],t[n]))return e.addError('Failed "uniqueItems" criteria',t,r),!1;return!0}var l=r(8),f=r(9);e.exports=function(e,t,r){if(!Array.isArray(t))return e.addError("Failed type:array criteria",r),!1;var i=[],o=e.runValidations([["minItems"in r,s],["maxItems"in r,u],["uniqueItems"in r,c],["items"in r,n]],t,r,i);return"items"in r?e.cleanSubject=i:e.cleanSubject=t.slice(),o}},function(e,t,r){function n(e){var t=typeof e;if("object"===t){if(null===e)return"null";if(Array.isArray(e))return"array"}return"number"===t&&e===Math.round(e)?"integer":t}function i(e,t,r){var n=r.format,i=b[n];if(!i)throw new Error("Invalid schema: unknown format ("+n+")");var o=i.test?i.test(t):i(t);return o||e.addError('Failed "format" criteria ('+n+")",t,r),o}function o(e,t,r,n){for(var i,o,a=n.length;a--;){if(i=n[a],"any"===i)return!0;if("object"!=typeof i){if(!(i in y.types))throw new Error("Invalid schema: invalid type ("+i+")");if("number"===i&&"integer"===r)return!0;if(r===i)return!0}else if(o=e.silently(function(){return m(e,t,i)}))return!0}return!1}function a(e,t,r){var n=r.allOf;if(!Array.isArray(n))throw new Error('Invalid schema: "allOf" value must be an array');for(var i=n.length,o=0;i--;)m(e,t,n[i])||(o+=1);return 0===o||(e.addError('Failed "allOf" criteria',t,n),!1)}function s(e,t,r){var n=r.anyOf;if(!Array.isArray(n))throw new Error('Invalid schema: "anyOf" value must be an array');var i=e.silently(function(){for(var r=n.length;r--;)if(m(e,t,n[r]))return!0;return!1});return!!i||(e.addError('Failed "anyOf" criteria',t,n),!1)}function u(e,t,r){var n=r.oneOf;if(!Array.isArray(n))throw new Error('Invalid schema: "oneOf" value must be an array');var i=n.length,o=0;return e.silently(function(){for(;i--;)m(e,t,n[i])&&(o+=1)}),1===o||(e.addError('Failed "oneOf" criteria',t,n),!1)}function c(e,t,r){var n=r.not,i=e.silently(function(){return!m(e,t,n)});return!!i||(e.addError('Failed "not" criteria',t,r),!1)}function l(e,t,r,n){var i=Array.isArray(r.disallow)?r.disallow:[r.disallow],a=!o(e,t,n,i);return a||e.addError('Failed "disallow" criteria: expecting '+i.join(" or ")+", found "+n,t,r),a}function f(e,t,r){for(var n=Array.isArray(r.extends)?r.extends:[r.extends],i=n.length,o=0;i--;)m(e,t,n[i])||(o+=1);return 0===o}function d(e,t,r){var n=r.enum;if(!Array.isArray(n))throw new Error('Invalid schema: "enum" value must be an array');for(var i=n.length;i--;)if(y.deepEqual(t,n[i]))return!0;return e.addError('Failed "enum" criteria',t,n),!1}function h(e,t,r,n){var i=Array.isArray(r.type)?r.type:[r.type],a=o(e,t,n,i);return a||e.addError('Failed "type" criteria: expecting '+i.join(" or ")+", found "+n,t,r),a}function p(e,t,r,n){return y.types[n](e,t,r)}function v(e,t,r){var n=/^#|\//.test(r.$ref),i=n?r.$ref:e.id.join("")+r.$ref,o=e.refs.get(i,e.schema),a=e;"#"!==r.$ref[0]&&(a=e.subcontext(e.refs.get(i,e.schema,!0)));var s=m(a,t,o);return e.cleanSubject=a.cleanSubject,s}function m(e,t,r){if(r.$ref)return v(e,t,r);r.id&&e.id.push(r.id);var o=e.runValidations([["type"in r,h],["disallow"in r,l],["enum"in r,d],[!0,p],["format"in r,i],["extends"in r,f],["allOf"in r,a],["anyOf"in r,s],["oneOf"in r,u],["not"in r,c]],t,r,n(t));return r.id&&e.id.pop(),o}var y=r(6),b={"date-time":/^\d{4}-(0[0-9]{1}|1[0-2]{1})-[0-9]{2}[t ]\d{2}:\d{2}:\d{2}(\.\d+)?([zZ]|[+-]\d{2}:\d{2})$/i,date:/^\d{4}-(0[0-9]{1}|1[0-2]{1})-[0-9]{2}$/,time:/^\d{2}:\d{2}:\d{2}$/,color:/^(#[0-9a-f]{3}|#[0-9a-f]{6}|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow)$/i,style:/^(?:\s*-?[_A-Z]+[_A-Z0-9-]*:[^\n\r\f;]+;)*\s*-?[_A-Z]+[_A-Z0-9-]*:[^\n\r\f;]+;?\s*$/i,phone:/^(?:(?:\(?(?:00|\+)(?:[1-4]\d\d|[1-9]\d?)\)?)?[\-\.\ \\\/]?)?(?:(?:\(?\d{1,}\)?[\-\.\ \\\/]?){0,})(?:[\-\.\ \\\/]?(?:#|ext\.?|extension|x)[\-\.\ \\\/]?(?:\d+))?$/i,uri:/^(?:([a-z0-9+.-]+:\/\/)((?:(?:[a-z0-9-._~!$&'()*+,;=:]|%[0-9A-F]{2})*)@)?((?:[a-z0-9-._~!$&'()*+,;=]|%[0-9A-F]{2})*)(:(?:\d*))?(\/(?:[a-z0-9-._~!$&'()*+,;=:@\/]|%[0-9A-F]{2})*)?|([a-z0-9+.-]+:)(\/?(?:[a-z0-9-._~!$&'()*+,;=:@]|%[0-9A-F]{2})+(?:[a-z0-9-._~!$&'()*+,;=:@\/]|%[0-9A-F]{2})*)?)(\?(?:[a-z0-9-._~!$&'()*+,;=:\/?@]|%[0-9A-F]{2})*)?(#(?:[a-z0-9-._~!$&'()*+,;=:\/?@]|%[0-9A-F]{2})*)?$/i,email:/^[A-Z0-9._%+-]+@(?:[A-Z0-9-]+\.)+[A-Z]{2,}$/i,ipv4:/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/,ipv6:/^\s*((([0-9A-F]{1,4}:){7}([0-9A-F]{1,4}|:))|(([0-9A-F]{1,4}:){6}(:[0-9A-F]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-F]{1,4}:){5}(((:[0-9A-F]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-F]{1,4}:){4}(((:[0-9A-F]{1,4}){1,3})|((:[0-9A-F]{1,4})((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-F]{1,4}:){3}(((:[0-9A-F]{1,4}){1,4})|((:[0-9A-F]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-F]{1,4}:){2}(((:[0-9A-F]{1,4}){1,5})|((:[0-9A-F]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-F]{1,4}:){1}(((:[0-9A-F]{1,4}){1,6})|((:[0-9A-F]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-F]{1,4}){1,7})|((:[0-9A-F]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/i,hostname:/^(?=.{1,255}$)[0-9A-Z](?:(?:[0-9A-Z]|-){0,61}[0-9A-Z])?(?:\.[0-9A-Z](?:(?:[0-9A-Z]|-){0,61}[0-9A-Z])?)*\.?$/i,"utc-millisec":function(e){var t=parseInt(e,10);return!isNaN(t)&&t.toString()===e.toString()},regex:function(e){try{new RegExp(e)}catch(e){return!1}return!0}};b["host-name"]=b.hostname,b["ip-address"]=b.ipv4,e.exports=m},function(e,t){function r(e){var t=typeof e;if("object"===t){if(null===e)return"null";if(Array.isArray(e))return"array"}return t}function n(e,t){var r=e.length;if(r!==t.length)return!1;for(;r--;)if(!o(e[r],t[r]))return!1;return!0}function i(e,t){var r=Object.keys(e),n=r.length;if(n!==Object.keys(t).length)return!1;for(;n--;)if(!o(e[r[n]],t[r[n]]))return!1;return!0}var o=e.exports=function(e,t){if(e===t)return!0;var o=r(e);return o===r(t)&&("array"===o?n(e,t):"object"===o&&i(e,t))}},function(e,t){function r(e,t,r){return"boolean"!=typeof t?(e.addError("Failed type:boolean criteria",t,r),!1):(e.cleanSubject=t,!0)}e.exports=r},function(e,t){function r(e,t,r){return"number"==typeof t||(e.addError("Failed type:number criteria",t,r),!1)}function n(e,t,r){return"number"==typeof t&&t===Math.round(t)||(e.addError("Failed type:integer criteria",t,r),!1)}function i(e,t,r){var n=r.exclusiveMinimum?t>r.minimum:t>=r.minimum;return n||e.addError('Failed "minimum" criteria',t,r),n}function o(e,t,r){var n=r.exclusiveMaximum?t<r.maximum:t<=r.maximum;return n||e.addError('Failed "maximum" criteria',t,r),n}function a(e,t,r,n){n=n||"multipleOf";var i=t/r[n]%1===0;return i||e.addError('Failed "'+n+'" criteria',t,r),i}function s(e,t,r){return a(e,t,r,"divisibleBy")}e.exports=function(e,t,u){var c=!0;return"number"===u.type&&(c=r(e,t,u)),"integer"===u.type&&(c=n(e,t,u)),e.cleanSubject=t,c&&e.runValidations([["minimum"in u,i],["maximum"in u,o],["multipleOf"in u,a],["divisibleBy"in u,s]],t,u)}},function(e,t){function r(e,t,r){return null!==t?(e.addError("Failed type:null criteria",t,r),!1):(e.cleanSubject=t,!0)}e.exports=r},function(e,t,r){function n(e,t,r,n){var i=r.properties,o=!0;for(var a in i)a in t?(e.path.push(a),o=d(e,t[a],i[a])&&o,e.path.pop(),n[a]=e.cleanSubject):i[a].required===!0&&(e.addError('Failed "required" criteria: missing property ('+a+")",t,i),o=!1);return o}function i(e,t,r,n){var i=r.patternProperties;if("object"!=typeof i)throw new Error('Invalid schema: "patternProperties" must be an object');for(var o,a,s=!0,u=Object.keys(i),c=u.length,l=Object.keys(t),f=l.length;f--;)for(a=l[f],o=c;o--;)a.match(u[o])&&(e.path.push(a),s=d(e,t[a],i[u[o]])&&s,e.path.pop(),a in n||(n[a]=e.cleanSubject));return s}function o(e,t,r,n){var i=r.additionalProperties;if(i===!0)return!0;var o=Object.keys(t),a=o.length;if(i===!1){for(;a--;)if(!(o[a]in n))return e.addError('Failed "additionalProperties" criteria: unexpected property ('+o[a]+")",t,r),!1;return!0}if("object"!=typeof i)throw new Error('Invalid schema: "additionalProperties" must be a valid schema');for(var s;a--;)o[a]in n||(e.path.push(o[a]),s=d(e,t[o[a]],i)&&s,e.path.pop(),n[o[a]]=e.cleanSubject);return s}function a(e,t,r){var n=Object.keys(t);return!(n.length<r.minProperties)||(e.addError('Failed "minProperties" criteria',t,r),!1)}function s(e,t,r){var n=Object.keys(t);return!(n.length>r.maxProperties)||(e.addError('Failed "maxProperties" criteria',t,r),!1)}function u(e,t,r){var n=r.required;if(!Array.isArray(n))throw new Error('Invalid schema: "required" must be an array');for(var i=!0,o=n.length;o--;)n[o]in t||(e.addError('Missing required property "'+n[o]+'"',t,n[o]),i=!1);return i}function c(e,t,r){var n=r.dependencies;if("object"!=typeof n)throw new Error('Invalid schema: "dependencies" must be an object');for(var i,o,a=!0,s=Object.keys(n),u=s.length;u--;)if(s[u]in t)if(i=n[s[u]],"string"==typeof i&&(i=[i]),Array.isArray(i))for(o=i.length;o--;)i[o]in t||(e.addError('Missing required property "'+i[o]+'"',t,i[o]),a=!1);else{if("object"!=typeof i)throw new Error("Invalid schema: dependencies must be string, array, or object");a=d(e,t,i)&&a}return a}function l(e,t){var r=t.properties;if(r)for(var n in r)"default"in r[n]&&!(n in e)&&(e[n]=r[n].default)}function f(e,t,r){if("object"!=typeof t)return e.addError("Failed type:object criteria",t,r),!1;var f={},d=e.runValidations([["properties"in r,n],["patternProperties"in r,i],["additionalProperties"in r,o],["minProperties"in r,a],["maxProperties"in r,s],[Array.isArray(r.required),u],["dependencies"in r,c]],t,r,f);return e.cleanWithDefaults&&l(f,r),e.cleanSubject=f,d}var d=r(8);e.exports=f},function(e,t,r){function n(e,t,r){return!(s(t).length<r.minLength)||(e.addError('Failed "minLength" criteria',t,r),!1)}function i(e,t,r){return!(s(t).length>r.maxLength)||(e.addError('Failed "maxLength" criteria',t,r),!1)}function o(e,t,r){var n=r.pattern;return!!t.match(n)||(e.addError('Failed "pattern" criteria ('+n+")",t,n),!1)}function a(e,t,r){return"string"!=typeof t?(e.addError("Failed type:string criteria",r),!1):(e.cleanSubject=t,e.runValidations([["minLength"in r,n],["maxLength"in r,i],["pattern"in r,o]],t,r))}var s=r(15).ucs2.decode;e.exports=a},function(e,t,r){var n;(function(e,i){!function(o){function a(e){throw new RangeError(P[e])}function s(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function u(e,t){var r=e.split("@"),n="";r.length>1&&(n=r[0]+"@",e=r[1]),e=e.replace(L,".");var i=e.split("."),o=s(i,t).join(".");return n+o}function c(e){for(var t,r,n=[],i=0,o=e.length;i<o;)t=e.charCodeAt(i++),t>=55296&&t<=56319&&i<o?(r=e.charCodeAt(i++),56320==(64512&r)?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--)):n.push(t);return n}function l(e){return s(e,function(e){var t="";return e>65535&&(e-=65536,t+=q(e>>>10&1023|55296),e=56320|1023&e),t+=q(e)}).join("")}function f(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:E}function d(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function h(e,t,r){var n=0;for(e=r?N(e/x):e>>1,e+=N(e/t);e>$*j>>1;n+=E)e=N(e/$);return N(n+($+1)*e/(e+_))}function p(e){var t,r,n,i,o,s,u,c,d,p,v=[],m=e.length,y=0,b=F,g=O;for(r=e.lastIndexOf(S),r<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&a("not-basic"),v.push(e.charCodeAt(n));for(i=r>0?r+1:0;i<m;){for(o=y,s=1,u=E;i>=m&&a("invalid-input"),c=f(e.charCodeAt(i++)),(c>=E||c>N((w-y)/s))&&a("overflow"),y+=c*s,d=u<=g?A:u>=g+j?j:u-g,!(c<d);u+=E)p=E-d,s>N(w/p)&&a("overflow"),s*=p;t=v.length+1,g=h(y-o,t,0==o),N(y/t)>w-b&&a("overflow"),b+=N(y/t),y%=t,v.splice(y++,0,b)}return l(v)}function v(e){var t,r,n,i,o,s,u,l,f,p,v,m,y,b,g,_=[];for(e=c(e),m=e.length,t=F,r=0,o=O,s=0;s<m;++s)v=e[s],v<128&&_.push(q(v));for(n=i=_.length,i&&_.push(S);n<m;){for(u=w,s=0;s<m;++s)v=e[s],v>=t&&v<u&&(u=v);for(y=n+1,u-t>N((w-r)/y)&&a("overflow"),r+=(u-t)*y,t=u,s=0;s<m;++s)if(v=e[s],v<t&&++r>w&&a("overflow"),v==t){for(l=r,f=E;p=f<=o?A:f>=o+j?j:f-o,!(l<p);f+=E)g=l-p,b=E-p,_.push(q(d(p+g%b,0))),l=N(g/b);_.push(q(d(l,0))),o=h(r,y,n==i),r=0,++n}++r,++t}return _.join("")}function m(e){return u(e,function(e){return k.test(e)?p(e.slice(4).toLowerCase()):e})}function y(e){return u(e,function(e){return I.test(e)?"xn--"+v(e):e})}var b=("object"==typeof t&&t&&!t.nodeType&&t,"object"==typeof e&&e&&!e.nodeType&&e,"object"==typeof i&&i);b.global!==b&&b.window!==b&&b.self!==b||(o=b);var g,w=2147483647,E=36,A=1,j=26,_=38,x=700,O=72,F=128,S="-",k=/^xn--/,I=/[^\x20-\x7E]/,L=/[\x2E\u3002\uFF0E\uFF61]/g,P={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},$=E-A,N=Math.floor,q=String.fromCharCode;g={version:"1.4.1",ucs2:{decode:c,encode:l},decode:p,encode:v,toASCII:y,toUnicode:m},n=function(){return g}.call(t,r,t,e),!(void 0!==n&&(e.exports=n))}(this)}).call(t,r(16)(e),function(){return this}())},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t,r){var n=r(18),i=r(19),o={addError:function(e,t,r){return this.silent||this.result.addError(e,t,r,this),this},silently:function(e){this.silent=!0;var t=e();return this.silent=!1,t},subcontext:function(e){return a(e,this,this.silent)},runValidations:function(e,t,r){var n,i=this.breakOnError,o=Array.prototype.slice.call(arguments),a=!0;o[0]=this;for(var s=0,u=e.length;s<u;s++)if(n=e[s],n[0]&&(a=n[1].apply(null,o)&&a,i&&!a))return!1;return a}},a=e.exports=function(e,t,r){return t=t||{},Object.create(o,{id:{enumerable:!0,writable:!1,value:[]},schema:{enumerable:!0,writable:!1,value:e||t.schema},path:{enumerable:!0,writable:!1,value:t.path&&t.path.slice()||["#"]},result:{enumerable:!0,writable:!1,value:!r&&t.result||n(t.instance)},refs:{enumerable:!0,writable:!1,value:t.refs||i()},silent:{enumerable:!0,writable:!0,value:!1},breakOnError:{enumerable:!0,writable:!0,value:t.breakOnError||!1},cleanWithDefaults:{enumerable:!0,writable:!0,value:t.cleanWithDefaults||!1},cleanSubject:{enumerable:!0,writable:!0,value:void 0}})}},function(e,t){function r(){return this.message+" (pointer: "+this.context+")"}var n={addError:function(e,t,n,i){return this.errors.push({message:e,context:i.path.join("/"),value:t,criteria:n,toString:r}),this.valid=!1,this}};e.exports=function(e){return Object.create(n,{instance:{enumerable:!0,writable:!1,value:e},cleanInstance:{enumerable:!0,writable:!0,value:void 0},valid:{enumerable:!0,writable:!0,value:!0},errors:{enumerable:!0,writable:!1,value:[]}})}},function(e,t,r){var n=r(20),i={add:function(e,t){if("string"!=typeof e)throw new Error('Unable to add JSON Ref: uri must be of type "string"');if(~e.indexOf("#"))throw new Error("Unable to add JSON Ref ("+e+"): uri cannot include a fragment identifier (#)");return this.__refs[e]=t,this},remove:function(e){return delete this.__refs[e],this},get:function(e,t,r){if("string"!=typeof e)throw new Error('Unable to get JSON Ref: uri must be of type "string"');var i=e.split("#");if(i.length>2)throw new Error("Unable to get JSON Ref ("+e+"): uri cannot contain multiple fragment identifiers (#)");if(i[0]&&(t=this.__refs[i[0]]),!t)throw new Error("Unable to locate JSON Ref ("+i[0]+")");return 1===i.length||r?t:n(i[1]).get(t)}};e.exports=function(){return Object.create(i,{__refs:{writable:!1,configurable:!1,enumerable:!1,value:{}}})}},function(e,t){function r(e,t){for(var r=e.length,n=new Array(r),i=0;i<r;i++)n[i]=t(e[i]);return n}function n(e){return decodeURI(e.replace(/~1/g,"/").replace(/~0/g,"~"))}function i(e){if("string"!=typeof e)throw new Error("Invalid JSON Pointer: invalid type ("+typeof e+")");var t=r(("#"===e[0]?e.substr(1):e).split("/"),n);if(""!==t[0])throw new Error('Invalid JSON Pointer ("'+e+'"): non-empty pointers must begin with "/" or "#/"');return t}function o(e,t){for(var r=1,n=e.length;r<n;r++)if(t=t&&t[e[r]],void 0===t)return;return t}function a(e,t,r){for(var n=1,i=e.length-1;n<i;n++)if(t=(t||void 0)&&t[e[n]],void 0===t)return!1;if("object"!=typeof t)return!1;var o=e[n];return"-"===o?!!Array.isArray(t)&&(t[t.length]=r,!0):(t[o]=r,!0)}var s={get:function(e){return o(this.__arrPointer,e)},set:function(e,t){return a(this.__arrPointer,e,t)}};e.exports=function(e){return Object.create(s,{__sPointer:{writable:!1,configurable:!1,enumerable:!1,value:e},__arrPointer:{writable:!1,configurable:!1,enumerable:!1,value:i(e)}})}},function(e,t,r){"use strict";var n=r(22),i=r(24),o=r(25);e.exports=function(e,t,r){return n(e)?i(o(e,t),r):i(e,t)}},function(e,t,r){"use strict";var n=r(23);e.exports=function(e){return null!=e&&"object"==typeof e&&n(e)===!1}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t){"use strict";e.exports=function(e,t){if(null===e||void 0===e)return!1;if("boolean"==typeof e)return!0;if("number"==typeof e)return 0!==e||t!==!0;if(void 0!==e.length)return 0!==e.length;for(var r in e)if(e.hasOwnProperty(r))return!0;return!1}},function(e,t){function r(e){return null!==e&&("object"==typeof e||"function"==typeof e)}function n(e){return e?Array.isArray(e)?e.join("."):e:""}e.exports=function(e,t,i,o,a){if(!r(e)||!t)return e;if(t=n(t),i&&(t+="."+n(i)),o&&(t+="."+n(o)),a&&(t+="."+n(a)),t in e)return e[t];for(var s=t.split("."),u=s.length,c=-1;e&&++c<u;){for(var l=s[c];"\\"===l[l.length-1];)l=l.slice(0,-1)+"."+s[++c];e=e[l]}return e}},function(e,t,r){"use strict";var n=r(27),i=r(30),o=r(22);e.exports=function(e,t,r){if("object"!=typeof e)return e;if(Array.isArray(t)&&(t=n(t)),"string"!=typeof t)return e;for(var a,s=t.split("."),u=s.length,c=-1,l=e;++c<u;){for(var f=s[c];"\\"===f[f.length-1];)f=f.slice(0,-1)+"."+s[++c];if(c===u-1){a=f;break}"object"!=typeof e[f]&&(e[f]={}),e=e[f]}return e.hasOwnProperty(a)&&"object"==typeof e[a]&&o(r)?i(e[a],r):e[a]=r,l}},function(e,t,r){"use strict";var n=r(28),i=r(29);e.exports=function(e){return e=n(e)?[].slice.call(e):[].slice.call(arguments),i(e).join(".")}},function(e,t){"use strict";var r=Object.prototype.toString,n=function(e){return"[object Arguments]"===r.call(e)},i=function(e){return!!n(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==r.call(e)&&"[object Function]"===r.call(e.callee)},o=function(){return n(arguments)}();n.isLegacyArguments=i,e.exports=o?n:i},function(e,t){"use strict";function r(e,t){for(var n=e.length,i=-1;n--;){var o=e[++i];Array.isArray(o)?r(o,t):t.push(o)}return t}e.exports=function(e){return r(e,[])}},function(e,t,r){"use strict";function n(e,t){for(var r in t)i(t,r)&&(e[r]=t[r])}function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var o=r(31);e.exports=function(e){o(e)||(e={});for(var t=arguments.length,r=1;r<t;r++){var i=arguments[r];o(i)&&n(e,i)}return e}},function(e,t){"use strict";e.exports=function(e){return"undefined"!=typeof e&&null!==e&&("object"==typeof e||"function"==typeof e)}}])});
//# sourceMappingURL=kodi-ws.min.js.map
