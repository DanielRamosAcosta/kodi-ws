!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.KodiWS=r():e.KodiWS=r()}(this,function(){return function(e){function r(n){if(t[n])return t[n].exports;var i=t[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}var t={};return r.m=e,r.c=t,r.p="",r(0)}([function(e,r,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,r){return new Promise(function(t,n){var i=new a.default(e,r);i.on("error",n),i.on("connect",function(){i.removeListener("error",n),t(i)})})}Object.defineProperty(r,"__esModule",{value:!0}),r.default=i;var o=t(1),a=n(o)},function(e,r,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function o(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r}function a(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),u=t(2),c=t(3),l=n(c),f=t(21),d=n(f),h=t(26),p=n(h),v=window.WebSocket,m=0,y=function(e){function r(){var e=arguments.length<=0||void 0===arguments[0]?"127.0.0.1":arguments[0],t=arguments.length<=1||void 0===arguments[1]?9090:arguments[1],n=arguments.length<=2||void 0===arguments[2]?500:arguments[2];i(this,r);var a=o(this,Object.getPrototypeOf(r).call(this));return a.socket=new v("ws://"+e+":"+t+"/jsonrpc"),a.closed=!0,a.timeout=n,a.init(),a}return a(r,e),s(r,[{key:"init",value:function(){var e=this;this.socket.onopen=function(){e.loadSchema().then(function(r){var t;e.socket.onmessage=function(e){console.log(e)},e.schema=new l.default.Schema(r,(t=e.socket,e.socket.send).bind(t)),e.socket.onmessage=function(r){var t=r.data;try{e.schema.handleResponse(t)}catch(r){r.message="Failed to handle response: "+r.message,e.emit("error",r)}},e.addShortcuts(),e.closed=!1,e.emit("connect")}).catch(function(r){r.message="Schema error: "+r.message,e.emit("error",r)})},this.socket.onclose=function(){e.close=!0,e.emit("close")},this.socket.onerror=function(r){e.socketTimedOut||(console.log(r),e.emit("error"))},setTimeout(function(){e.socket.readyState===m&&(e.emit("error",new Error("Timed out")),e.socketTimedOut=!0)},this.timeout)}},{key:"loadSchema",value:function(){var e,r=this,t=l.default.run("JSONRPC.Introspect",[],(e=this.socket,this.socket.send).bind(e));return this.socket.onmessage=function(e){var r=e.data;return t.handle(r)},t.then(function(e){return r.socket.onmessage=null,e})}},{key:"addShortcuts",value:function(){var e=this,r=this.schema.schema,t=r.methods,n=r.notifications;Object.keys(t).forEach(function(r){(0,d.default)(e,r)||(0,p.default)(e,r,t[r])}),Object.keys(n).forEach(function(r){(0,d.default)(e,r)||(0,p.default)(e,r,n[r])})}}]),r}(u.EventEmitter);r.default=y},function(e,r){function t(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"==typeof e}function i(e){return"number"==typeof e}function o(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}e.exports=t,t.EventEmitter=t,t.prototype._events=void 0,t.prototype._maxListeners=void 0,t.defaultMaxListeners=10,t.prototype.setMaxListeners=function(e){if(!i(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},t.prototype.emit=function(e){var r,t,i,s,u,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(r=arguments[1],r instanceof Error)throw r;var l=new Error('Uncaught, unspecified "error" event. ('+r+")");throw l.context=r,l}if(t=this._events[e],a(t))return!1;if(n(t))switch(arguments.length){case 1:t.call(this);break;case 2:t.call(this,arguments[1]);break;case 3:t.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),t.apply(this,s)}else if(o(t))for(s=Array.prototype.slice.call(arguments,1),c=t.slice(),i=c.length,u=0;u<i;u++)c[u].apply(this,s);return!0},t.prototype.addListener=function(e,r){var i;if(!n(r))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(r.listener)?r.listener:r),this._events[e]?o(this._events[e])?this._events[e].push(r):this._events[e]=[this._events[e],r]:this._events[e]=r,o(this._events[e])&&!this._events[e].warned&&(i=a(this._maxListeners)?t.defaultMaxListeners:this._maxListeners,i&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},t.prototype.on=t.prototype.addListener,t.prototype.once=function(e,r){function t(){this.removeListener(e,t),i||(i=!0,r.apply(this,arguments))}if(!n(r))throw TypeError("listener must be a function");var i=!1;return t.listener=r,this.on(e,t),this},t.prototype.removeListener=function(e,r){var t,i,a,s;if(!n(r))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(t=this._events[e],a=t.length,i=-1,t===r||n(t.listener)&&t.listener===r)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,r);else if(o(t)){for(s=a;s-- >0;)if(t[s]===r||t[s].listener&&t[s].listener===r){i=s;break}if(i<0)return this;1===t.length?(t.length=0,delete this._events[e]):t.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,r)}return this},t.prototype.removeAllListeners=function(e){var r,t;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(r in this._events)"removeListener"!==r&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events={},this}if(t=this._events[e],n(t))this.removeListener(e,t);else if(t)for(;t.length;)this.removeListener(e,t[t.length-1]);return delete this._events[e],this},t.prototype.listeners=function(e){var r;return r=this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},t.prototype.listenerCount=function(e){if(this._events){var r=this._events[e];if(n(r))return 1;if(r)return r.length}return 0},t.listenerCount=function(e,r){return e.listenerCount(r)}},function(e,r,t){var n=-1,i=t(4);e.exports={Schema:i,run:function(e,r,t){var o=n--;t(i.methodToJSON(e,r,o));var a,s,u=new Promise(function(e,r){a=e,s=r});return u.handle=function(e){var r=JSON.parse(e);if(r.id===o)if(r.error){var t=new Error("Server responded with error: "+r.error.message);t.resonse=r.error,s(t)}else a(r.result)},u}}},function(e,r,t){function n(e,r,t){var n=1;this.id=function(){return t?t.id():n++},this.ids=t?t.ids:new o,this.cbs=[],this.queue=!!t&&[],this.handler=r,this.rawSchema=e,this.validator=i(),this.validator.addRef(e),this.notifications=new o,this.schema=this.shortcutGenericSchema(e)}var i=t(5),o=t(2).EventEmitter;n.prototype.batch=function(){return new n(this.rawSchema,this.handler,this)},n.prototype.send=function(){if(!this.queue)throw new Error(".send() can only be called in batch mode!");this.handler(JSON.stringify(this.queue)),this.queue=[]},n.prototype.shortcutSchema=function(e,r){if(!e.type)return this.shortcutGenericSchema(e);switch(e.type){case"method":return this.createMethod(r,e);case"notification":return this.notifications.on.bind(this.notifications,r);default:return this.shortcutGenericSchema(e)}},n.prototype.shortcutGenericSchema=function(e){var r=this,t=function(t){return r.validator.validate(t,e).valid};return Object.keys(e).forEach(function(n){var i=e[n];"object"!=typeof i||null===i||Array.isArray(i)||(t[n]=r.shortcutSchema(i,n))}),t},n.prototype.handleResponse=function(e){try{var r=JSON.parse(e),t=Array.isArray(r)?r:[r];t.forEach(function(e){e.id?(this.ids.emit(e.id,e),this.ids.removeAllListeners(e.id)):this.notifications.emit(e.method,e.params)},this)}catch(e){if(!this.onerror)throw e;this.onerror(e)}},n.prototype.createMethod=function(e){var r=this;return function(t){return arguments.length>1?t=Array.prototype.slice.call(arguments):"undefined"==typeof t?t={}:"object"!=typeof t&&(t=[t]),new Promise(function(i,o){var a=r.id();r.ids.on(a,function(e){if(e.error){var r=new Error("Server responded with error: "+e.error.message);r.response=e.error,o(r)}else i(e.result)}),r.queue?r.queue.push(n.methodToObject(e,t,a)):r.handler(n.methodToJSON(e,t,a))})}},n.methodToObject=function(e,r,t){return{id:t,jsonrpc:"2.0",method:e,params:r}},n.methodToJSON=function(e,r,t){return JSON.stringify(n.methodToObject(e,r,t))},e.exports=n},function(e,r,t){function n(){return Object.create(s,{_refs:{enumerable:!1,writable:!1,value:a()}})}var i=t(6),o=t(17),a=t(19),s={addRef:function(e,r){if("object"==typeof e&&(r=e,e=null),e=e||r.id,!e)throw new Error("Cannot add a json schema reference without a uri/id.");return this._refs.add(e,r),this},validate:function(e,r,t){if(void 0===e)throw new Error("Instance undefined in call to validate.");if(!r)throw new Error("No schema specified in call to validate.");if("string"==typeof r){var n=r;if(r=this._refs.get(n),!r)throw new Error("Unable to locate schema ("+n+"). Did you call addRef with this schema?")}var a=o(r,{instance:e,refs:this._refs,breakOnError:t&&t.breakOnError,cleanWithDefaults:t&&t.cleanWithDefaults});return i.base(a,e,r),a.result.valid&&(a.result.cleanInstance=a.cleanSubject),a.result}};e.exports=n,e.exports.validate=function(e,r,t){if(void 0===e)throw new Error("Instance undefined in call to validate.");if(!r)throw new Error("No schema specified in call to validate.");var n=o(r,{instance:e,breakOnError:t&&t.breakOnError,cleanWithDefaults:t&&t.cleanWithDefaults});return i.base(n,e,r),n.result.valid&&(n.result.cleanInstance=n.cleanSubject),n.result},e.exports.use=function(e){if("function"!=typeof e)throw new Error("skeemas.use called with non-function. Plugins are in the form function(skeemas){}.");return e(s),this}},function(e,r,t){r.types={any:function(){return!0},array:t(7),boolean:t(10),integer:t(11),null:t(12),number:t(11),object:t(13),string:t(14)},r.deepEqual=t(9),r.base=t(8)},function(e,r,t){function n(e,r,t,n){var s=!0;return Array.isArray(t.items)?(s=o(e,r,t,n),"additionalItems"in t&&(s=a(e,r,t,n)&&s)):t.items&&(s=i(e,r,t,n)),s}function i(e,r,t,n){var i=t.items;if("object"!=typeof i)throw new Error('Invalid schema: invalid "items"');for(var o=e.path.length,a=0,s=r.length;a<s;a++){if(e.path[o]=a,!l(e,r[a],i))return e.addError('Failed "items" criteria',r,i),e.path.length=o,!1;n.push(e.cleanSubject)}return e.path.length=o,!0}function o(e,r,t,n){for(var i=t.items,o=e.path.length,a=0,s=i.length;a<s;a++){if(e.path[o]=a,!l(e,r[a],i[a]))return e.addError('Failed "items" criteria',r,i),e.path.length=o,!1;n.push(e.cleanSubject)}return e.path.length=o,!0}function a(e,r,t,n){var i=t.items.length,o=r.length,a=t.additionalItems;if(a===!1)return o<=i||(e.addError('Failed "additionalItems" criteria: no additional items are allowed',r,t),!1);if("object"!=typeof a)throw new Error('Invalid schema: invalid "additionalItems"');for(var s=e.path.length;i<o;i++){if(e.path[s]=i,!l(e,r[i],a))return e.addError('Failed "additionalItems" criteria',r,t),e.path.length=s,!1;n.push(e.cleanSubject)}return e.path.length=s,!0}function s(e,r,t){return!(r.length<t.minItems)||(e.addError('Failed "minItems" criteria',r,t),!1)}function u(e,r,t){return!(r.length>t.maxItems)||(e.addError('Failed "maxItems" criteria',r,t),!1)}function c(e,r,t){for(var n,i=r.length;i--;)for(n=i;n--;)if(f(r[i],r[n]))return e.addError('Failed "uniqueItems" criteria',r,t),!1;return!0}var l=t(8),f=t(9);e.exports=function(e,r,t){if(!Array.isArray(r))return e.addError("Failed type:array criteria",t),!1;var i=[],o=e.runValidations([["minItems"in t,s],["maxItems"in t,u],["uniqueItems"in t,c],["items"in t,n]],r,t,i);return"items"in t?e.cleanSubject=i:e.cleanSubject=r.slice(),o}},function(e,r,t){function n(e){var r=typeof e;if("object"===r){if(null===e)return"null";if(Array.isArray(e))return"array"}return"number"===r&&e===Math.round(e)?"integer":r}function i(e,r,t){var n=t.format,i=b[n];if(!i)throw new Error("Invalid schema: unknown format ("+n+")");var o=i.test?i.test(r):i(r);return o||e.addError('Failed "format" criteria ('+n+")",r,t),o}function o(e,r,t,n){for(var i,o,a=n.length;a--;){if(i=n[a],"any"===i)return!0;if("object"!=typeof i){if(!(i in y.types))throw new Error("Invalid schema: invalid type ("+i+")");if("number"===i&&"integer"===t)return!0;if(t===i)return!0}else if(o=e.silently(function(){return m(e,r,i)}))return!0}return!1}function a(e,r,t){var n=t.allOf;if(!Array.isArray(n))throw new Error('Invalid schema: "allOf" value must be an array');for(var i=n.length,o=0;i--;)m(e,r,n[i])||(o+=1);return 0===o||(e.addError('Failed "allOf" criteria',r,n),!1)}function s(e,r,t){var n=t.anyOf;if(!Array.isArray(n))throw new Error('Invalid schema: "anyOf" value must be an array');var i=e.silently(function(){for(var t=n.length;t--;)if(m(e,r,n[t]))return!0;return!1});return!!i||(e.addError('Failed "anyOf" criteria',r,n),!1)}function u(e,r,t){var n=t.oneOf;if(!Array.isArray(n))throw new Error('Invalid schema: "oneOf" value must be an array');var i=n.length,o=0;return e.silently(function(){for(;i--;)m(e,r,n[i])&&(o+=1)}),1===o||(e.addError('Failed "oneOf" criteria',r,n),!1)}function c(e,r,t){var n=t.not,i=e.silently(function(){return!m(e,r,n)});return!!i||(e.addError('Failed "not" criteria',r,t),!1)}function l(e,r,t,n){var i=Array.isArray(t.disallow)?t.disallow:[t.disallow],a=!o(e,r,n,i);return a||e.addError('Failed "disallow" criteria: expecting '+i.join(" or ")+", found "+n,r,t),a}function f(e,r,t){for(var n=Array.isArray(t.extends)?t.extends:[t.extends],i=n.length,o=0;i--;)m(e,r,n[i])||(o+=1);return 0===o}function d(e,r,t){var n=t.enum;if(!Array.isArray(n))throw new Error('Invalid schema: "enum" value must be an array');for(var i=n.length;i--;)if(y.deepEqual(r,n[i]))return!0;return e.addError('Failed "enum" criteria',r,n),!1}function h(e,r,t,n){var i=Array.isArray(t.type)?t.type:[t.type],a=o(e,r,n,i);return a||e.addError('Failed "type" criteria: expecting '+i.join(" or ")+", found "+n,r,t),a}function p(e,r,t,n){return y.types[n](e,r,t)}function v(e,r,t){var n=/^#|\//.test(t.$ref),i=n?t.$ref:e.id.join("")+t.$ref,o=e.refs.get(i,e.schema),a=e;"#"!==t.$ref[0]&&(a=e.subcontext(e.refs.get(i,e.schema,!0)));var s=m(a,r,o);return e.cleanSubject=a.cleanSubject,s}function m(e,r,t){if(t.$ref)return v(e,r,t);t.id&&e.id.push(t.id);var o=e.runValidations([["type"in t,h],["disallow"in t,l],["enum"in t,d],[!0,p],["format"in t,i],["extends"in t,f],["allOf"in t,a],["anyOf"in t,s],["oneOf"in t,u],["not"in t,c]],r,t,n(r));return t.id&&e.id.pop(),o}var y=t(6),b={"date-time":/^\d{4}-(0[0-9]{1}|1[0-2]{1})-[0-9]{2}[t ]\d{2}:\d{2}:\d{2}(\.\d+)?([zZ]|[+-]\d{2}:\d{2})$/i,date:/^\d{4}-(0[0-9]{1}|1[0-2]{1})-[0-9]{2}$/,time:/^\d{2}:\d{2}:\d{2}$/,color:/^(#[0-9a-f]{3}|#[0-9a-f]{6}|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow)$/i,style:/^(?:\s*-?[_A-Z]+[_A-Z0-9-]*:[^\n\r\f;]+;)*\s*-?[_A-Z]+[_A-Z0-9-]*:[^\n\r\f;]+;?\s*$/i,phone:/^(?:(?:\(?(?:00|\+)(?:[1-4]\d\d|[1-9]\d?)\)?)?[\-\.\ \\\/]?)?(?:(?:\(?\d{1,}\)?[\-\.\ \\\/]?){0,})(?:[\-\.\ \\\/]?(?:#|ext\.?|extension|x)[\-\.\ \\\/]?(?:\d+))?$/i,uri:/^(?:([a-z0-9+.-]+:\/\/)((?:(?:[a-z0-9-._~!$&'()*+,;=:]|%[0-9A-F]{2})*)@)?((?:[a-z0-9-._~!$&'()*+,;=]|%[0-9A-F]{2})*)(:(?:\d*))?(\/(?:[a-z0-9-._~!$&'()*+,;=:@\/]|%[0-9A-F]{2})*)?|([a-z0-9+.-]+:)(\/?(?:[a-z0-9-._~!$&'()*+,;=:@]|%[0-9A-F]{2})+(?:[a-z0-9-._~!$&'()*+,;=:@\/]|%[0-9A-F]{2})*)?)(\?(?:[a-z0-9-._~!$&'()*+,;=:\/?@]|%[0-9A-F]{2})*)?(#(?:[a-z0-9-._~!$&'()*+,;=:\/?@]|%[0-9A-F]{2})*)?$/i,email:/^[A-Z0-9._%+-]+@(?:[A-Z0-9-]+\.)+[A-Z]{2,}$/i,ipv4:/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/,ipv6:/^\s*((([0-9A-F]{1,4}:){7}([0-9A-F]{1,4}|:))|(([0-9A-F]{1,4}:){6}(:[0-9A-F]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-F]{1,4}:){5}(((:[0-9A-F]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-F]{1,4}:){4}(((:[0-9A-F]{1,4}){1,3})|((:[0-9A-F]{1,4})((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-F]{1,4}:){3}(((:[0-9A-F]{1,4}){1,4})|((:[0-9A-F]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-F]{1,4}:){2}(((:[0-9A-F]{1,4}){1,5})|((:[0-9A-F]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-F]{1,4}:){1}(((:[0-9A-F]{1,4}){1,6})|((:[0-9A-F]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-F]{1,4}){1,7})|((:[0-9A-F]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/i,hostname:/^(?=.{1,255}$)[0-9A-Z](?:(?:[0-9A-Z]|-){0,61}[0-9A-Z])?(?:\.[0-9A-Z](?:(?:[0-9A-Z]|-){0,61}[0-9A-Z])?)*\.?$/i,"utc-millisec":function(e){var r=parseInt(e,10);return!isNaN(r)&&r.toString()===e.toString()},regex:function(e){try{new RegExp(e)}catch(e){return!1}return!0}};b["host-name"]=b.hostname,b["ip-address"]=b.ipv4,e.exports=m},function(e,r){function t(e){var r=typeof e;if("object"===r){if(null===e)return"null";if(Array.isArray(e))return"array"}return r}function n(e,r){var t=e.length;if(t!==r.length)return!1;for(;t--;)if(!o(e[t],r[t]))return!1;return!0}function i(e,r){var t=Object.keys(e),n=t.length;if(n!==Object.keys(r).length)return!1;for(;n--;)if(!o(e[t[n]],r[t[n]]))return!1;return!0}var o=e.exports=function(e,r){if(e===r)return!0;var o=t(e);return o===t(r)&&("array"===o?n(e,r):"object"===o&&i(e,r))}},function(e,r){function t(e,r,t){return"boolean"!=typeof r?(e.addError("Failed type:boolean criteria",r,t),!1):(e.cleanSubject=r,!0)}e.exports=t},function(e,r){function t(e,r,t){return"number"==typeof r||(e.addError("Failed type:number criteria",r,t),!1)}function n(e,r,t){return"number"==typeof r&&r===Math.round(r)||(e.addError("Failed type:integer criteria",r,t),!1)}function i(e,r,t){var n=t.exclusiveMinimum?r>t.minimum:r>=t.minimum;return n||e.addError('Failed "minimum" criteria',r,t),n}function o(e,r,t){var n=t.exclusiveMaximum?r<t.maximum:r<=t.maximum;return n||e.addError('Failed "maximum" criteria',r,t),n}function a(e,r,t,n){n=n||"multipleOf";var i=r/t[n]%1===0;return i||e.addError('Failed "'+n+'" criteria',r,t),i}function s(e,r,t){return a(e,r,t,"divisibleBy")}e.exports=function(e,r,u){var c=!0;return"number"===u.type&&(c=t(e,r,u)),"integer"===u.type&&(c=n(e,r,u)),e.cleanSubject=r,c&&e.runValidations([["minimum"in u,i],["maximum"in u,o],["multipleOf"in u,a],["divisibleBy"in u,s]],r,u)}},function(e,r){function t(e,r,t){return null!==r?(e.addError("Failed type:null criteria",r,t),!1):(e.cleanSubject=r,!0)}e.exports=t},function(e,r,t){function n(e,r,t,n){var i=t.properties,o=!0;for(var a in i)a in r?(e.path.push(a),o=d(e,r[a],i[a])&&o,e.path.pop(),n[a]=e.cleanSubject):i[a].required===!0&&(e.addError('Failed "required" criteria: missing property ('+a+")",r,i),o=!1);return o}function i(e,r,t,n){var i=t.patternProperties;if("object"!=typeof i)throw new Error('Invalid schema: "patternProperties" must be an object');for(var o,a,s=!0,u=Object.keys(i),c=u.length,l=Object.keys(r),f=l.length;f--;)for(a=l[f],o=c;o--;)a.match(u[o])&&(e.path.push(a),s=d(e,r[a],i[u[o]])&&s,e.path.pop(),a in n||(n[a]=e.cleanSubject));return s}function o(e,r,t,n){var i=t.additionalProperties;if(i===!0)return!0;var o=Object.keys(r),a=o.length;if(i===!1){for(;a--;)if(!(o[a]in n))return e.addError('Failed "additionalProperties" criteria: unexpected property ('+o[a]+")",r,t),!1;return!0}if("object"!=typeof i)throw new Error('Invalid schema: "additionalProperties" must be a valid schema');for(var s;a--;)o[a]in n||(e.path.push(o[a]),s=d(e,r[o[a]],i)&&s,e.path.pop(),n[o[a]]=e.cleanSubject);return s}function a(e,r,t){var n=Object.keys(r);return!(n.length<t.minProperties)||(e.addError('Failed "minProperties" criteria',r,t),!1)}function s(e,r,t){var n=Object.keys(r);return!(n.length>t.maxProperties)||(e.addError('Failed "maxProperties" criteria',r,t),!1)}function u(e,r,t){var n=t.required;if(!Array.isArray(n))throw new Error('Invalid schema: "required" must be an array');for(var i=!0,o=n.length;o--;)n[o]in r||(e.addError('Missing required property "'+n[o]+'"',r,n[o]),i=!1);return i}function c(e,r,t){var n=t.dependencies;if("object"!=typeof n)throw new Error('Invalid schema: "dependencies" must be an object');for(var i,o,a=!0,s=Object.keys(n),u=s.length;u--;)if(s[u]in r)if(i=n[s[u]],"string"==typeof i&&(i=[i]),Array.isArray(i))for(o=i.length;o--;)i[o]in r||(e.addError('Missing required property "'+i[o]+'"',r,i[o]),a=!1);else{if("object"!=typeof i)throw new Error("Invalid schema: dependencies must be string, array, or object");a=d(e,r,i)&&a}return a}function l(e,r){var t=r.properties;if(t)for(var n in t)"default"in t[n]&&!(n in e)&&(e[n]=t[n].default)}function f(e,r,t){if("object"!=typeof r)return e.addError("Failed type:object criteria",r,t),!1;var f={},d=e.runValidations([["properties"in t,n],["patternProperties"in t,i],["additionalProperties"in t,o],["minProperties"in t,a],["maxProperties"in t,s],[Array.isArray(t.required),u],["dependencies"in t,c]],r,t,f);return e.cleanWithDefaults&&l(f,t),e.cleanSubject=f,d}var d=t(8);e.exports=f},function(e,r,t){function n(e,r,t){return!(s(r).length<t.minLength)||(e.addError('Failed "minLength" criteria',r,t),!1)}function i(e,r,t){return!(s(r).length>t.maxLength)||(e.addError('Failed "maxLength" criteria',r,t),!1)}function o(e,r,t){var n=t.pattern;return!!r.match(n)||(e.addError('Failed "pattern" criteria ('+n+")",r,n),!1)}function a(e,r,t){return"string"!=typeof r?(e.addError("Failed type:string criteria",t),!1):(e.cleanSubject=r,e.runValidations([["minLength"in t,n],["maxLength"in t,i],["pattern"in t,o]],r,t))}var s=t(15).ucs2.decode;e.exports=a},function(e,r,t){var n;(function(e,i){!function(o){function a(e){throw new RangeError(P[e])}function s(e,r){for(var t=e.length,n=[];t--;)n[t]=r(e[t]);return n}function u(e,r){var t=e.split("@"),n="";t.length>1&&(n=t[0]+"@",e=t[1]),e=e.replace(L,".");var i=e.split("."),o=s(i,r).join(".");return n+o}function c(e){for(var r,t,n=[],i=0,o=e.length;i<o;)r=e.charCodeAt(i++),r>=55296&&r<=56319&&i<o?(t=e.charCodeAt(i++),56320==(64512&t)?n.push(((1023&r)<<10)+(1023&t)+65536):(n.push(r),i--)):n.push(r);return n}function l(e){return s(e,function(e){var r="";return e>65535&&(e-=65536,r+=q(e>>>10&1023|55296),e=56320|1023&e),r+=q(e)}).join("")}function f(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:E}function d(e,r){return e+22+75*(e<26)-((0!=r)<<5)}function h(e,r,t){var n=0;for(e=t?N(e/x):e>>1,e+=N(e/r);e>$*j>>1;n+=E)e=N(e/$);return N(n+($+1)*e/(e+_))}function p(e){var r,t,n,i,o,s,u,c,d,p,v=[],m=e.length,y=0,b=F,g=O;for(t=e.lastIndexOf(S),t<0&&(t=0),n=0;n<t;++n)e.charCodeAt(n)>=128&&a("not-basic"),v.push(e.charCodeAt(n));for(i=t>0?t+1:0;i<m;){for(o=y,s=1,u=E;i>=m&&a("invalid-input"),c=f(e.charCodeAt(i++)),(c>=E||c>N((w-y)/s))&&a("overflow"),y+=c*s,d=u<=g?A:u>=g+j?j:u-g,!(c<d);u+=E)p=E-d,s>N(w/p)&&a("overflow"),s*=p;r=v.length+1,g=h(y-o,r,0==o),N(y/r)>w-b&&a("overflow"),b+=N(y/r),y%=r,v.splice(y++,0,b)}return l(v)}function v(e){var r,t,n,i,o,s,u,l,f,p,v,m,y,b,g,_=[];for(e=c(e),m=e.length,r=F,t=0,o=O,s=0;s<m;++s)v=e[s],v<128&&_.push(q(v));for(n=i=_.length,i&&_.push(S);n<m;){for(u=w,s=0;s<m;++s)v=e[s],v>=r&&v<u&&(u=v);for(y=n+1,u-r>N((w-t)/y)&&a("overflow"),t+=(u-r)*y,r=u,s=0;s<m;++s)if(v=e[s],v<r&&++t>w&&a("overflow"),v==r){for(l=t,f=E;p=f<=o?A:f>=o+j?j:f-o,!(l<p);f+=E)g=l-p,b=E-p,_.push(q(d(p+g%b,0))),l=N(g/b);_.push(q(d(l,0))),o=h(t,y,n==i),t=0,++n}++t,++r}return _.join("")}function m(e){return u(e,function(e){return k.test(e)?p(e.slice(4).toLowerCase()):e})}function y(e){return u(e,function(e){return I.test(e)?"xn--"+v(e):e})}var b=("object"==typeof r&&r&&!r.nodeType&&r,"object"==typeof e&&e&&!e.nodeType&&e,"object"==typeof i&&i);b.global!==b&&b.window!==b&&b.self!==b||(o=b);var g,w=2147483647,E=36,A=1,j=26,_=38,x=700,O=72,F=128,S="-",k=/^xn--/,I=/[^\x20-\x7E]/,L=/[\x2E\u3002\uFF0E\uFF61]/g,P={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},$=E-A,N=Math.floor,q=String.fromCharCode;g={version:"1.4.1",ucs2:{decode:c,encode:l},decode:p,encode:v,toASCII:y,toUnicode:m},n=function(){return g}.call(r,t,r,e),!(void 0!==n&&(e.exports=n))}(this)}).call(r,t(16)(e),function(){return this}())},function(e,r){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,r,t){var n=t(18),i=t(19),o={addError:function(e,r,t){return this.silent||this.result.addError(e,r,t,this),this},silently:function(e){this.silent=!0;var r=e();return this.silent=!1,r},subcontext:function(e){return a(e,this,this.silent)},runValidations:function(e,r,t){var n,i=this.breakOnError,o=Array.prototype.slice.call(arguments),a=!0;o[0]=this;for(var s=0,u=e.length;s<u;s++)if(n=e[s],n[0]&&(a=n[1].apply(null,o)&&a,i&&!a))return!1;return a}},a=e.exports=function(e,r,t){return r=r||{},Object.create(o,{id:{enumerable:!0,writable:!1,value:[]},schema:{enumerable:!0,writable:!1,value:e||r.schema},path:{enumerable:!0,writable:!1,value:r.path&&r.path.slice()||["#"]},result:{enumerable:!0,writable:!1,value:!t&&r.result||n(r.instance)},refs:{enumerable:!0,writable:!1,value:r.refs||i()},silent:{enumerable:!0,writable:!0,value:!1},breakOnError:{enumerable:!0,writable:!0,value:r.breakOnError||!1},cleanWithDefaults:{enumerable:!0,writable:!0,value:r.cleanWithDefaults||!1},cleanSubject:{enumerable:!0,writable:!0,value:void 0}})}},function(e,r){function t(){return this.message+" (pointer: "+this.context+")"}var n={addError:function(e,r,n,i){return this.errors.push({message:e,context:i.path.join("/"),value:r,criteria:n,toString:t}),this.valid=!1,this}};e.exports=function(e){return Object.create(n,{instance:{enumerable:!0,writable:!1,value:e},cleanInstance:{enumerable:!0,writable:!0,value:void 0},valid:{enumerable:!0,writable:!0,value:!0},errors:{enumerable:!0,writable:!1,value:[]}})}},function(e,r,t){var n=t(20),i={add:function(e,r){if("string"!=typeof e)throw new Error('Unable to add JSON Ref: uri must be of type "string"');if(~e.indexOf("#"))throw new Error("Unable to add JSON Ref ("+e+"): uri cannot include a fragment identifier (#)");return this.__refs[e]=r,this},remove:function(e){return delete this.__refs[e],this},get:function(e,r,t){if("string"!=typeof e)throw new Error('Unable to get JSON Ref: uri must be of type "string"');var i=e.split("#");if(i.length>2)throw new Error("Unable to get JSON Ref ("+e+"): uri cannot contain multiple fragment identifiers (#)");if(i[0]&&(r=this.__refs[i[0]]),!r)throw new Error("Unable to locate JSON Ref ("+i[0]+")");return 1===i.length||t?r:n(i[1]).get(r)}};e.exports=function(){return Object.create(i,{__refs:{writable:!1,configurable:!1,enumerable:!1,value:{}}})}},function(e,r){function t(e,r){for(var t=e.length,n=new Array(t),i=0;i<t;i++)n[i]=r(e[i]);return n}function n(e){return decodeURI(e.replace(/~1/g,"/").replace(/~0/g,"~"))}function i(e){if("string"!=typeof e)throw new Error("Invalid JSON Pointer: invalid type ("+typeof e+")");var r=t(("#"===e[0]?e.substr(1):e).split("/"),n);if(""!==r[0])throw new Error('Invalid JSON Pointer ("'+e+'"): non-empty pointers must begin with "/" or "#/"');return r}function o(e,r){for(var t=1,n=e.length;t<n;t++)if(r=r&&r[e[t]],void 0===r)return;return r}function a(e,r,t){for(var n=1,i=e.length-1;n<i;n++)if(r=(r||void 0)&&r[e[n]],void 0===r)return!1;if("object"!=typeof r)return!1;var o=e[n];return"-"===o?!!Array.isArray(r)&&(r[r.length]=t,!0):(r[o]=t,!0)}var s={get:function(e){return o(this.__arrPointer,e)},set:function(e,r){return a(this.__arrPointer,e,r)}};e.exports=function(e){return Object.create(s,{__sPointer:{writable:!1,configurable:!1,enumerable:!1,value:e},__arrPointer:{writable:!1,configurable:!1,enumerable:!1,value:i(e)}})}},function(e,r,t){"use strict";var n=t(22),i=t(24),o=t(25);e.exports=function(e,r,t){return n(e)?i(o(e,r),t):i(e,r)}},function(e,r,t){"use strict";var n=t(23);e.exports=function(e){return null!=e&&"object"==typeof e&&n(e)===!1}},function(e,r){var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},function(e,r){"use strict";e.exports=function(e,r){if(null===e||void 0===e)return!1;if("boolean"==typeof e)return!0;if("number"==typeof e)return 0!==e||r!==!0;if(void 0!==e.length)return 0!==e.length;for(var t in e)if(e.hasOwnProperty(t))return!0;return!1}},function(e,r){function t(e){return null!==e&&("object"==typeof e||"function"==typeof e)}function n(e){return e?Array.isArray(e)?e.join("."):e:""}e.exports=function(e,r,i,o,a){if(!t(e)||!r)return e;if(r=n(r),i&&(r+="."+n(i)),o&&(r+="."+n(o)),a&&(r+="."+n(a)),r in e)return e[r];for(var s=r.split("."),u=s.length,c=-1;e&&++c<u;){for(var l=s[c];"\\"===l[l.length-1];)l=l.slice(0,-1)+"."+s[++c];e=e[l]}return e}},function(e,r,t){"use strict";var n=t(27),i=t(30),o=t(22);e.exports=function(e,r,t){if("object"!=typeof e)return e;if(Array.isArray(r)&&(r=n(r)),"string"!=typeof r)return e;for(var a,s=r.split("."),u=s.length,c=-1,l=e;++c<u;){for(var f=s[c];"\\"===f[f.length-1];)f=f.slice(0,-1)+"."+s[++c];if(c===u-1){a=f;break}"object"!=typeof e[f]&&(e[f]={}),e=e[f]}return e.hasOwnProperty(a)&&"object"==typeof e[a]&&o(t)?i(e[a],t):e[a]=t,l}},function(e,r,t){"use strict";var n=t(28),i=t(29);e.exports=function(e){return e=n(e)?[].slice.call(e):[].slice.call(arguments),i(e).join(".")}},function(e,r){"use strict";var t=Object.prototype.toString,n=function(e){return"[object Arguments]"===t.call(e)},i=function(e){return!!n(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==t.call(e)&&"[object Function]"===t.call(e.callee)},o=function(){return n(arguments)}();n.isLegacyArguments=i,e.exports=o?n:i},function(e,r){"use strict";function t(e,r){for(var n=e.length,i=-1;n--;){var o=e[++i];Array.isArray(o)?t(o,r):r.push(o)}return r}e.exports=function(e){return t(e,[])}},function(e,r,t){"use strict";function n(e,r){for(var t in r)i(r,t)&&(e[t]=r[t])}function i(e,r){return Object.prototype.hasOwnProperty.call(e,r)}var o=t(31);e.exports=function(e){o(e)||(e={});for(var r=arguments.length,t=1;t<r;t++){var i=arguments[t];o(i)&&n(e,i)}return e}},function(e,r){"use strict";e.exports=function(e){return"undefined"!=typeof e&&null!==e&&("object"==typeof e||"function"==typeof e)}}])});
//# sourceMappingURL=kodi-ws.min.js.map
